<!DOCTYPE html>
<html lang=ja>
  <head>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    <title>ちびっこ相撲大会AR</title>
  </head>
  <body>
      <!--　embedded　を追記してA-frameと統合 AR.jsの公式で作ったマーカーの黒枠の割合値をpatternRatioで合わせる -->
    <a-scene embedded arjs="patternRatio:0.90" vr-mode-ui="enabled: false">
        <!-- a-assetsの中に表示させたい動画や画像の情報を入れる idで分類もしておく -->
      <a-assets>
        <video id="zundaVideo" src="./assets/AR埋め込み用動画_test_main.mp4"></video>
        <img id="zundaImg" src="./assets/ずんだもん立ち絵素材2_0001.png" alt="">
      </a-assets>
      <!-- マーカーとそれによって表示させる情報の紐づけ　マーカーはpattファイル -->
      <a-marker type="pattern" url="./assets/pattern-newestQR.patt">
        <a-video
          id="zundaV"
          src="#zundaVideo"
          width="1.9"
          height="1"
          position="0 0 0"
          rotation="-90 0 0"
          visible="false"
        ></a-video>
        <a-image
          id="zundaThum"
          src="#zundaImg"
          width="1.9"
          height="1"
          position="0 0 0"
          rotation="-90 0 0"
        ></a-image>
      </a-marker>
      <a-entity camera cursor="fuse:false; rayOrigin:mouse;"></a-entity>
    </a-scene>

    <script>
      window.addEventListener("click", () => {
        const zundaVideo = document.querySelector("#zundaVideo");
        const zundaV = document.querySelector("#zundaV");
        const zundaThum = document.querySelector("#zundaThum");
        zundaThum.setAttribute("visible", false);
        zundaV.setAttribute("visible", true);
        zundaVideo.play();
      });
    </script>
  </body>
</html>
